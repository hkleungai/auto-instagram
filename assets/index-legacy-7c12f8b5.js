!function(){function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return r};var e,r={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(e){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,a=Object.create(o.prototype),u=new I(n||[]);return i(a,"_invoke",{value:A(t,r,u)}),a}function d(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}r.wrap=f;var h="suspendedStart",p="suspendedYield",v="executing",m="completed",g={};function b(){}function w(){}function x(){}var C={};s(C,u,(function(){return this}));var E=Object.getPrototypeOf,S=E&&E(E(F([])));S&&S!==n&&o.call(S,u)&&(C=S);var k=x.prototype=b.prototype=Object.create(C);function j(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function r(n,i,a,u){var c=d(t[n],t,i);if("throw"!==c.type){var l=c.arg,s=l.value;return s&&"object"==y(s)&&o.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,a,u)}),(function(t){r("throw",t,a,u)})):e.resolve(s).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,u)}))}u(c.arg)}var n;i(this,"_invoke",{value:function(t,o){function i(){return new e((function(e,n){r(t,o,e,n)}))}return n=n?n.then(i,i):i()}})}function A(t,r,n){var o=h;return function(i,a){if(o===v)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(n.method=i,n.arg=a;;){var u=n.delegate;if(u){var c=T(u,n);if(c){if(c===g)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=d(t,r,n);if("normal"===l.type){if(o=n.done?m:p,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function T(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,T(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=d(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[t.resultName]=a.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function F(t){if(t||""===t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function r(){for(;++n<t.length;)if(o.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(y(t)+" is not iterable")}return w.prototype=x,i(k,"constructor",{value:x,configurable:!0}),i(x,"constructor",{value:w,configurable:!0}),w.displayName=s(x,l,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,s(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},r.awrap=function(t){return{__await:t}},j(O.prototype),s(O.prototype,c,(function(){return this})),r.AsyncIterator=O,r.async=function(t,e,n,o,i){void 0===i&&(i=Promise);var a=new O(f(t,e,n,o),i);return r.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(k),s(k,l,"Generator"),s(k,u,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=F,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(L),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=o.call(a,"catchLoc"),l=o.call(a,"finallyLoc");if(c&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:F(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},r}function e(t,e,r,n,o,i,a){try{var u=t[i](a),c=u.value}catch(l){return void r(l)}u.done?e(c):Promise.resolve(c).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise((function(o,i){var a=t.apply(r,n);function u(t){e(a,o,i,u,c,"next",t)}function c(t){e(a,o,i,u,c,"throw",t)}u(void 0)}))}}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return(e=m(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}function u(t){var e=s();return function(){var r,n=d(t);if(e){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function c(t){var e="function"==typeof Map?new Map:void 0;return c=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,t)},c(t)}function l(t,e,r){return l=s()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&f(o,r.prototype),o},l.apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m(n.key),n)}}function v(t,e,r){return e&&p(t.prototype,e),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t){var e=function(t,e){if("object"!==y(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===y(e)?e:String(e)}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,u=[],c=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(u.push(n.value),u.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||w(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function b(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=w(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function w(t,e){if(t){if("string"==typeof t)return x(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(t,e):void 0}}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}System.register([],(function(e,n){"use strict";return{execute:function(){var e=document.createElement("style");e.textContent=":root{font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:rgba(255,255,255,.87);background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-text-size-adjust:100%}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media (prefers-color-scheme: light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}#root{max-width:1280px;margin:0 auto;padding:2rem;--field-padding: 8px;--field-border: 1px;--field-height: 36px;--border-radius: 4px}div.creator-rows{display:flex;flex-direction:column;gap:20px;align-items:center;justify-content:space-between}form.creator-form-container{display:block;border-radius:var(--border-radius);padding:20px 20px 16px;border-width:.5px;border-color:#eee;border-style:solid;min-width:350px}form.creator-form-container div.creator-form-rows{display:flex;gap:18px;flex-direction:column;justify-content:space-around;height:100%}form.creator-form-container div.creator-form-rows div.creator-form-group{display:flex;justify-content:space-between;gap:20px}form.creator-form-container div.creator-form-rows div.creator-form-group div.creator-form-row{min-width:calc(100% / 3 - 10px)}form.creator-form-container div.creator-form-rows div.creator-form-row{display:flex;flex-direction:column;gap:1px}form.creator-form-container div.creator-form-rows div.creator-form-row.creator-form-buttons{flex-direction:row;align-self:end;justify-content:space-around;height:40px;width:100%}form.creator-form-container div.creator-form-rows div.creator-form-row.creator-poem-image{display:flex;place-items:center}form.creator-form-container div.creator-form-rows div.creator-form-row input[type=text],form.creator-form-container div.creator-form-rows div.creator-form-row select,form.creator-form-container div.creator-form-rows div.creator-form-row textarea{padding:var(--field-padding);border:var(--field-border) solid #ccc;border-radius:var(--border-radius);font-size:16px;color:inherit;background-color:#3b3b3b}form.creator-form-container div.creator-form-rows div.creator-form-row input[type=text]{height:calc(var(--field-height) - 2 * (var(--field-padding) + var(--field-border)))}form.creator-form-container div.creator-form-rows div.creator-form-row select{-moz-appearance:none;-webkit-appearance:none;appearance:none;background-image:url(\"data:image/svg+xml;utf8,<svg fill='white' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/><path d='M0 0h24v24H0z' fill='none'/></svg>\");background-repeat:no-repeat;background-position-x:100%;background-position-y:50%;height:var(--field-height)}form.creator-form-container div.creator-form-rows div.creator-form-row textarea{height:auto;width:calc(16 * 16px + 2 * (var(--field-padding) + var(--field-border)));font-family:monospace;text-rendering:auto;box-sizing:border-box}form.creator-form-container div.creator-form-rows div.creator-form-row label{display:inline-block}form.creator-form-container div.creator-form-rows div.creator-form-row input[type=submit]{background-color:#747bff;color:#fff;padding:8px 20px;border:none;border-radius:var(--border-radius)}form.creator-form-container div.creator-form-rows div.creator-form-row input[type=submit][data-disabled=true]{color:#fff;background-color:#a0a0a0}form.creator-form-container div.creator-form-rows div.creator-form-row input[type=submit]:hover:not[data-disabled=true]{opacity:.8;cursor:pointer}form.creator-form-container div.creator-form-rows div.creator-form-row input[type=submit]:hover[data-disabled=true]{cursor:not-allowed}\n",document.head.appendChild(e);var n,i=Symbol("solid-track"),l={equals:function(t,e){return t===e}},s=M,f=1,d=2,p={owned:null,cleanups:null,context:null,owner:null},m={},w=null,x=null,C=null,E=null,S=null,k=0;function j(t,e){var r=C,n=w,o=0===t.length,i=void 0===e?n:e,a=o?p:{owned:null,cleanups:null,context:i?i.context:null,owner:i},u=o?t:function(){return t((function(){return I((function(){return Z(a)}))}))};w=a,C=null;try{return D(u,!0)}finally{C=r,w=n}}function O(t,e){var r={value:t,observers:null,observerSlots:null,comparator:(e=e?Object.assign({},l,e):l).equals||void 0};return[N.bind(r),function(t){return"function"==typeof t&&(t=t(r.value)),z(r,t)}]}function A(t,e,r){R(_(t,e,!0,f))}function T(t,e,r){R(_(t,e,!1,f))}function P(t,e,r){r=r?Object.assign({},l,r):l;var n=_(t,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,R(n),N.bind(n)}function L(t,e,r){var o,i,a;2===arguments.length&&"object"===y(e)||1===arguments.length?(o=!0,i=t,a=e||{}):(o=t,i=e,a=r||{});var u=null,c=m,l=!1,s="initialValue"in a,f="function"==typeof o&&P(o),d=new Set,h=g((a.storage||O)(a.initialValue),2),p=h[0],v=h[1],w=g(O(void 0),2),x=w[0],E=w[1],S=g(O(void 0,{equals:!1}),2),k=S[0],j=S[1],T=g(O(s?"ready":"unresolved"),2),L=T[0],F=T[1];function N(t,e,r,n){return u===t&&(u=null,void 0!==n&&(s=!0),t!==c&&e!==c||!a.onHydrated||queueMicrotask((function(){return a.onHydrated(n,{value:e})})),c=m,function(t,e){D((function(){void 0===e&&v((function(){return t})),F(void 0!==e?"errored":s?"ready":"unresolved"),E(e);var r,n=b(d.keys());try{for(n.s();!(r=n.n()).done;){r.value.decrement()}}catch(e){n.e(e)}finally{n.f()}d.clear()}),!1)}(e,r)),e}function z(){var t=n,e=p(),r=x();if(void 0!==r&&!u)throw r;return C&&!C.user&&t&&A((function(){k(),u&&(t.resolved||d.has(t)||(t.increment(),d.add(t)))})),e}function R(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!1===t||!l){l=!1;var e=f?f():o;if(null!=e&&!1!==e){var r,n=c!==m?c:I((function(){return i(e,{value:p(),refetching:t})}));return(r=n)&&"object"===y(r)&&"then"in r?(u=n,"value"in n?("success"===n.status?N(u,n.value,void 0,e):N(u,void 0,void 0,e),n):(l=!0,queueMicrotask((function(){return l=!1})),D((function(){F(s?"refreshing":"pending"),j()}),!1),n.then((function(t){return N(n,t,void 0,e)}),(function(t){return N(n,void 0,q(t),e)})))):(N(u,n,void 0,e),n)}N(u,I(p))}}return Object.defineProperties(z,{state:{get:function(){return L()}},error:{get:function(){return x()}},loading:{get:function(){var t=L();return"pending"===t||"refreshing"===t}},latest:{get:function(){if(!s)return z();var t=x();if(t&&!u)throw t;return p()}}}),f?A((function(){return R(!1)})):R(!1),[z,{refetch:R,mutate:v}]}function I(t){if(null===C)return t();var e=C;C=null;try{return t()}finally{C=e}}function F(t){var e=P(t),r=P((function(){return H(e())}));return r.toArray=function(){var t=r();return Array.isArray(t)?t:null!=t?[t]:[]},r}function N(){var t=this;if(this.sources&&this.state)if(this.state===f)R(this);else{var e=E;E=null,D((function(){return $(t)}),!1),E=e}if(C){var r=this.observers?this.observers.length:0;C.sources?(C.sources.push(this),C.sourceSlots.push(r)):(C.sources=[this],C.sourceSlots=[r]),this.observers?(this.observers.push(C),this.observerSlots.push(C.sources.length-1)):(this.observers=[C],this.observerSlots=[C.sources.length-1])}return this.value}function z(t,e,r){var n=t.value;return t.comparator&&t.comparator(n,e)||(t.value=e,t.observers&&t.observers.length&&D((function(){for(var e=0;e<t.observers.length;e+=1){var r=t.observers[e],n=x&&x.running;n&&x.disposed.has(r),(n?r.tState:r.state)||(r.pure?E.push(r):S.push(r),r.observers&&W(r)),n||(r.state=f)}if(E.length>1e6)throw E=[],new Error}),!1)),e}function R(t){if(t.fn){Z(t);var e=w,r=C,n=k;C=w=t,function(t,e,r){var n;try{n=t.fn(e)}catch(o){return t.pure&&(t.state=f,t.owned&&t.owned.forEach(Z),t.owned=null),t.updatedAt=r+1,G(o)}(!t.updatedAt||t.updatedAt<=r)&&(null!=t.updatedAt&&"observers"in t?z(t,n):t.value=n,t.updatedAt=r)}(t,t.value,n),C=r,w=e}}function _(t,e,r){var n={fn:t,state:arguments.length>3&&void 0!==arguments[3]?arguments[3]:f,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:w,context:w?w.context:null,pure:r};return null===w||w!==p&&(w.owned?w.owned.push(n):w.owned=[n]),n}function B(t){if(0!==t.state){if(t.state===d)return $(t);if(t.suspense&&I(t.suspense.inFallback))return t.suspense.effects.push(t);for(var e=[t];(t=t.owner)&&(!t.updatedAt||t.updatedAt<k);)t.state&&e.push(t);for(var r=e.length-1;r>=0;r--)if((t=e[r]).state===f)R(t);else if(t.state===d){var n=E;E=null,D((function(){return $(t,e[0])}),!1),E=n}}}function D(t,e){if(E)return t();var r=!1;e||(E=[]),S?r=!0:S=[],k++;try{var n=t();return function(t){E&&(M(E),E=null);if(t)return;var e=S;S=null,e.length&&D((function(){return s(e)}),!1)}(r),n}catch(o){r||(S=null),E=null,G(o)}}function M(t){for(var e=0;e<t.length;e++)B(t[e])}function $(t,e){t.state=0;for(var r=0;r<t.sources.length;r+=1){var n=t.sources[r];if(n.sources){var o=n.state;o===f?n!==e&&(!n.updatedAt||n.updatedAt<k)&&B(n):o===d&&$(n,e)}}}function W(t){for(var e=0;e<t.observers.length;e+=1){var r=t.observers[e];r.state||(r.state=d,r.pure?E.push(r):S.push(r),r.observers&&W(r))}}function Z(t){var e;if(t.sources)for(;t.sources.length;){var r=t.sources.pop(),n=t.sourceSlots.pop(),o=r.observers;if(o&&o.length){var i=o.pop(),a=r.observerSlots.pop();n<o.length&&(i.sourceSlots[a]=n,o[n]=i,r.observerSlots[n]=a)}}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Z(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function q(t){return t instanceof Error?t:new Error("string"==typeof t?t:"Unknown error",{cause:t})}function G(t){throw q(t)}function H(t){if("function"==typeof t&&!t.length)return H(t());if(Array.isArray(t)){for(var e=[],r=0;r<t.length;r++){var n=H(t[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}var U=Symbol("fallback");function X(t){for(var e=0;e<t.length;e++)t[e]()}function K(t,e){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=[],u=[],c=0,l=e.length>1?[]:null;return r=function(){return X(u)},null===w||(null===w.cleanups?w.cleanups=[r]:w.cleanups.push(r)),function(){var r,s,f=t()||[];return f[i],I((function(){var t,e,i,h,p,v,m,g,y,b=f.length;if(0===b)0!==c&&(X(u),u=[],o=[],a=[],c=0,l&&(l=[])),n.fallback&&(o=[U],a[0]=j((function(t){return u[0]=t,n.fallback()})),c=1);else if(0===c){for(a=new Array(b),s=0;s<b;s++)o[s]=f[s],a[s]=j(d);c=b}else{for(i=new Array(b),h=new Array(b),l&&(p=new Array(b)),v=0,m=Math.min(c,b);v<m&&o[v]===f[v];v++);for(m=c-1,g=b-1;m>=v&&g>=v&&o[m]===f[g];m--,g--)i[g]=a[m],h[g]=u[m],l&&(p[g]=l[m]);for(t=new Map,e=new Array(g+1),s=g;s>=v;s--)y=f[s],r=t.get(y),e[s]=void 0===r?-1:r,t.set(y,s);for(r=v;r<=m;r++)y=o[r],void 0!==(s=t.get(y))&&-1!==s?(i[s]=a[r],h[s]=u[r],l&&(p[s]=l[r]),s=e[s],t.set(y,s)):u[r]();for(s=v;s<b;s++)s in i?(a[s]=i[s],u[s]=h[s],l&&(l[s]=p[s],l[s](s))):a[s]=j(d);a=a.slice(0,c=b),o=f.slice(0)}return a}));function d(t){if(u[s]=t,l){var r=g(O(s),2),n=r[0],o=r[1];return l[s]=o,e(f[s],n)}return e(f[s])}}}function V(t,e){return I((function(){return t(e||{})}))}var Y=function(t){return"Stale read from <".concat(t,">.")};function J(t){var e="fallback"in t&&{fallback:function(){return t.fallback}};return P(K((function(){return t.each}),t.children,e||void 0))}function Q(t){var e=!1,r=F((function(){return t.children})),n=P((function(){var t=r();Array.isArray(t)||(t=[t]);for(var n=0;n<t.length;n++){var o=t[n].when;if(o)return e=!!t[n].keyed,[n,o,t[n]]}return[-1]}),void 0,{equals:function(t,r){return t[0]===r[0]&&(e?t[1]===r[1]:!t[1]==!r[1])&&t[2]===r[2]}});return P((function(){var r=g(n(),3),o=r[0],i=r[1],a=r[2];if(o<0)return t.fallback;var u=a.children;return"function"==typeof u&&u.length>0?I((function(){return u(e?i:function(){if(I(n)[0]!==o)throw Y("Match");return a.when})})):u}),void 0,void 0)}function tt(t){return t}var et="_$DX_DELEGATE";function rt(t,e,r){var n;return j((function(o){n=o,e===document?t():it(e,t(),e.firstChild?null:void 0,r)}),(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).owner),function(){n(),e.textContent=""}}function nt(t,e,r){var n,o=function(){var e=document.createElement("template");return e.innerHTML=t,r?e.content.firstChild.firstChild:e.content.firstChild},i=e?function(){return I((function(){return document.importNode(n||(n=o()),!0)}))}:function(){return(n||(n=o())).cloneNode(!0)};return i.cloneNode=i,i}function ot(t,e,r){null==r?t.removeAttribute(e):t.setAttribute(e,r)}function it(t,e,r,n){if(void 0===r||n||(n=[]),"function"!=typeof e)return ut(t,e,n,r);T((function(n){return ut(t,e(),n,r)}),n)}function at(t){var e="$$".concat(t.type),r=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==r&&Object.defineProperty(t,"target",{configurable:!0,value:r}),Object.defineProperty(t,"currentTarget",{configurable:!0,get:function(){return r||document}});r;){var n=r[e];if(n&&!r.disabled){var o=r["".concat(e,"Data")];if(void 0!==o?n.call(r,o,t):n.call(r,t),t.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function ut(t,e,r,n,o){for(;"function"==typeof r;)r=r();if(e===r)return r;var i=y(e),a=void 0!==n;if(t=a&&r[0]&&r[0].parentNode||t,"string"===i||"number"===i)if("number"===i&&(e=e.toString()),a){var u=r[0];u&&3===u.nodeType?u.data=e:u=document.createTextNode(e),r=st(t,r,n,u)}else r=""!==r&&"string"==typeof r?t.firstChild.data=e:t.textContent=e;else if(null==e||"boolean"===i)r=st(t,r,n);else{if("function"===i)return T((function(){for(var o=e();"function"==typeof o;)o=o();r=ut(t,o,r,n)})),function(){return r};if(Array.isArray(e)){var c=[],l=r&&Array.isArray(r);if(ct(c,e,r,o))return T((function(){return r=ut(t,c,r,n,!0)})),function(){return r};if(0===c.length){if(r=st(t,r,n),a)return r}else l?0===r.length?lt(t,c,n):function(t,e,r){for(var n=r.length,o=e.length,i=n,a=0,u=0,c=e[o-1].nextSibling,l=null;a<o||u<i;)if(e[a]!==r[u]){for(;e[o-1]===r[i-1];)o--,i--;if(o===a)for(var s=i<n?u?r[u-1].nextSibling:r[i-u]:c;u<i;)t.insertBefore(r[u++],s);else if(i===u)for(;a<o;)l&&l.has(e[a])||e[a].remove(),a++;else if(e[a]===r[i-1]&&r[u]===e[o-1]){var f=e[--o].nextSibling;t.insertBefore(r[u++],e[a++].nextSibling),t.insertBefore(r[--i],f),e[o]=r[i]}else{if(!l){l=new Map;for(var d=u;d<i;)l.set(r[d],d++)}var h=l.get(e[a]);if(null!=h)if(u<h&&h<i){for(var p=a,v=1,m=void 0;++p<o&&p<i&&null!=(m=l.get(e[p]))&&m===h+v;)v++;if(v>h-u)for(var g=e[a];u<h;)t.insertBefore(r[u++],g);else t.replaceChild(r[u++],e[a++])}else a++;else e[a++].remove()}}else a++,u++}(t,r,c):(r&&st(t),lt(t,c));r=c}else if(e.nodeType){if(Array.isArray(r)){if(a)return r=st(t,r,n,e);st(t,r,null,e)}else null!=r&&""!==r&&t.firstChild?t.replaceChild(e,t.firstChild):t.appendChild(e);r=e}}return r}function ct(t,e,r,n){for(var o=!1,i=0,a=e.length;i<a;i++){var u=e[i],c=r&&r[i],l=void 0;if(null==u||!0===u||!1===u);else if("object"===(l=y(u))&&u.nodeType)t.push(u);else if(Array.isArray(u))o=ct(t,u,c)||o;else if("function"===l)if(n){for(;"function"==typeof u;)u=u();o=ct(t,Array.isArray(u)?u:[u],Array.isArray(c)?c:[c])||o}else t.push(u),o=!0;else{var s=String(u);c&&3===c.nodeType&&c.data===s?t.push(c):t.push(document.createTextNode(s))}}return o}function lt(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=0,o=e.length;n<o;n++)t.insertBefore(e[n],r)}function st(t,e,r,n){if(void 0===r)return t.textContent="";var o=n||document.createTextNode("");if(e.length)for(var i=!1,a=e.length-1;a>=0;a--){var u=e[a];if(o!==u){var c=u.parentNode===t;i||a?c&&u.remove():c?t.replaceChild(o,u):t.insertBefore(o,r)}else i=!0}else t.insertBefore(o,r);return[o]}function ft(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dt={exports:{}};!function(t){!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function r(t){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(t)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function n(t,e){t.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function o(t){var e=t.g.offsetWidth,r=e+100;return t.j.style.width=r+"px",t.i.scrollLeft=r,t.h.scrollLeft=t.h.scrollWidth+100,t.l!==e&&(t.l=e,!0)}function i(t,r){function n(){var t=i;o(t)&&null!==t.g.parentNode&&r(t.l)}var i=t;e(t.h,n),e(t.i,n),o(t)}function a(t,e,r){e=e||{},r=r||window,this.family=t,this.style=e.style||"normal",this.weight=e.weight||"normal",this.stretch=e.stretch||"normal",this.context=r}var u=null,c=null,l=null,s=null;function f(t){return null===s&&(s=!!t.document.fonts),s}function d(t,e){var r=t.style,n=t.weight;if(null===l){var o=document.createElement("div");try{o.style.font="condensed 100px sans-serif"}catch(i){}l=""!==o.style.font}return[r,n,l?t.stretch:"","100px",e].join(" ")}a.prototype.load=function(t,e){var o=this,a=t||"BESbswy",l=0,s=e||3e3,h=(new Date).getTime();return new Promise((function(t,e){if(f(o.context)&&!function(t){return null===c&&(f(t)&&/Apple/.test(window.navigator.vendor)?(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!t&&603>parseInt(t[1],10)):c=!1),c}(o.context)){var p=new Promise((function(t,e){!function r(){(new Date).getTime()-h>=s?e(Error(s+"ms timeout exceeded")):o.context.document.fonts.load(d(o,'"'+o.family+'"'),a).then((function(e){1<=e.length?t():setTimeout(r,25)}),e)}()})),v=new Promise((function(t,e){l=setTimeout((function(){e(Error(s+"ms timeout exceeded"))}),s)}));Promise.race([v,p]).then((function(){clearTimeout(l),t(o)}),e)}else!function(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",(function e(){document.removeEventListener("DOMContentLoaded",e),t()})):document.attachEvent("onreadystatechange",(function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())}))}((function(){function c(){var e;(e=-1!=m&&-1!=g||-1!=m&&-1!=y||-1!=g&&-1!=y)&&((e=m!=g&&m!=y&&g!=y)||(null===u&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),u=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=u&&(m==b&&g==b&&y==b||m==w&&g==w&&y==w||m==x&&g==x&&y==x)),e=!e),e&&(null!==C.parentNode&&C.parentNode.removeChild(C),clearTimeout(l),t(o))}var f=new r(a),p=new r(a),v=new r(a),m=-1,g=-1,y=-1,b=-1,w=-1,x=-1,C=document.createElement("div");C.dir="ltr",n(f,d(o,"sans-serif")),n(p,d(o,"serif")),n(v,d(o,"monospace")),C.appendChild(f.g),C.appendChild(p.g),C.appendChild(v.g),o.context.document.body.appendChild(C),b=f.g.offsetWidth,w=p.g.offsetWidth,x=v.g.offsetWidth,function t(){if((new Date).getTime()-h>=s)null!==C.parentNode&&C.parentNode.removeChild(C),e(Error(s+"ms timeout exceeded"));else{var r=o.context.document.hidden;!0!==r&&void 0!==r||(m=f.g.offsetWidth,g=p.g.offsetWidth,y=v.g.offsetWidth,c()),l=setTimeout(t,50)}}(),i(f,(function(t){m=t,c()})),n(f,d(o,'"'+o.family+'",sans-serif')),i(p,(function(t){g=t,c()})),n(p,d(o,'"'+o.family+'",serif')),i(v,(function(t){y=t,c()})),n(v,d(o,'"'+o.family+'",monospace'))}))}))},t.exports=a}()}(dt);var ht=ft(dt.exports),pt={},vt="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",mt=new RegExp("(".concat("bold|bolder|lighter|[1-9]00",") +"),"i"),gt=new RegExp("(".concat("italic|oblique",") +"),"i"),yt=new RegExp("(".concat("small-caps",") +"),"i"),bt=new RegExp("(".concat("ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",") +"),"i"),wt=new RegExp("([\\d\\.]+)(".concat("px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q",") *((?:").concat(vt,")( *, *(?:").concat(vt,"))*)")),xt={},Ct=function(t){if(xt[t])return xt[t];var e=wt.exec(t);if(e){var r,n,o,i,a={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(e[1]),unit:e[2],family:e[3].replace(/["']/g,"").replace(/ *, */g,",")},u=t.substring(0,e.index);switch((r=mt.exec(u))&&(a.weight=r[1]),(n=gt.exec(u))&&(a.style=n[1]),(o=yt.exec(u))&&(a.variant=o[1]),(i=bt.exec(u))&&(a.stretch=i[1]),a.unit){case"pt":a.size/=.75;break;case"pc":a.size*=16;break;case"in":a.size*=96;break;case"cm":a.size*=96/2.54;break;case"mm":a.size*=96/25.4;break;case"%":break;case"em":case"rem":a.size*=16/.75;break;case"q":a.size*=96/25.4/4}return xt[t]=a}};pt.parseFont=Ct;var Et=pt.createCanvas=function(t,e){return Object.assign(document.createElement("canvas"),{width:t,height:e})};pt.createImageData=function(t,e,r){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(t);case 2:return new ImageData(t,e);default:return new ImageData(t,e,r)}},pt.loadImage=function(t,e){return new Promise((function(r,n){var o=Object.assign(document.createElement("img"),e);function i(){o.onload=null,o.onerror=null}o.onload=function(){i(),r(o)},o.onerror=function(){i(),n(new Error('Failed to load the image "'+t+'"'))},o.src=t}))};var St,kt,jt,Ot=function(){function t(){h(this,t)}return v(t,null,[{key:"SIZE",get:function(){return 800}}]),t}();kt=St||(St={}),jt=function(t){a(r,t);var e=u(r);function r(t,n){var o;return h(this,r),(o=e.call(this,t,n)).name="AssertionError",o}return v(r)}(c(Error)),kt.assert=function(t,e,r){if(!t)throw new jt(e,r)};var At=St,Tt=function(t){a(r,t);var e=u(r);function r(t,n,i,a,u,c,l){var s;h(this,r);var f={fontSize:n<=4?Ot.SIZE/10:Ot.SIZE/16,fontFace:i},d=1.375+.75*((n<=4?4:8)-n+Number(!c)),p=c?{text:c,startX:Ot.SIZE/2}:void 0;return(s=e.call(this,f,a,u,d,1.5,p,o(o({},l),{},{wordPerRow:t,row:n}))).wordPerRow=t,s.row=n,s.fontFace=i,s.platform=a,s.content=u,s.titleText=c,s.options=l,s}return v(r,[{key:"renderContent",value:function(){for(var t=0,e=this.titleTextAsNumber;e-this.titleTextAsNumber<this.row;e++){for(var r=t+this.wordPerRow+1,n=this.content.slice(t,r),o=this.fontConfig.fontSize*this.lineSpacing,i=e*o+this.scaledPaddingTop,a=0;a<n.length;a++){var u=(a+this.columnPadding)*this.fontConfig.fontSize+o;this.nodeCanvasContext.fillText(n[a],u,i)}t=r}}},{key:"columnPadding",get:function(){return(7-this.wordPerRow)/2+(Ot.SIZE/10-this.fontConfig.fontSize)/(Ot.SIZE/80)}},{key:"move",value:function(t){var e,n,i,a,u,c,l,s,f;return Object.assign(this,t),new r(null!==(e=t.wordPerRow)&&void 0!==e?e:this.wordPerRow,null!==(n=t.row)&&void 0!==n?n:this.row,null!==(i=t.fontFace)&&void 0!==i?i:this.fontFace,null!==(a=t.platform)&&void 0!==a?a:this.platform,null!==(u=t.content)&&void 0!==u?u:this.content,null!==(c=t.titleText)&&void 0!==c?c:null===(l=this.titleConfig)||void 0===l?void 0:l.text,o(o(o({},this.options),t.options),{},{wordPerRow:null!==(s=t.wordPerRow)&&void 0!==s?s:this.wordPerRow,row:null!==(f=t.row)&&void 0!==f?f:this.row}))}},{key:"maxColumn",get:function(){return Ot.SIZE/this.fontConfig.fontSize}}]),r}(function(){function t(e,r,n,o,i,a,u){h(this,t),this.fontConfig=e,this.platform=r,this.content=n,this.paddingTop=o,this.lineSpacing=i,this.titleConfig=a,Object.assign(this,u),this.nodeCanvas=Et(Ot.SIZE,Ot.SIZE),this.nodeCanvasContext=this.getNodeCanvasContext(),this.render()}return v(t,[{key:"htmlCanvas",get:function(){return At.assert("WEB"===this.platform,"html canvas should not appear in non-web enviroment`"),At.assert(this.nodeCanvas instanceof HTMLCanvasElement,'canvas in "node-canvas" package is no longer an `HTMLCanvasElement`'),this.nodeCanvas}},{key:"toJpegBuffer",value:function(){return At.assert("NODE"===this.platform,"Unsupported to-jpeg-buffer operation for platform = ".concat(this.platform)),this.nodeCanvas.toBuffer("image/jpeg")}},{key:"getNodeCanvasContext",value:function(){pt.registerFont&&this.fontConfig.fontFilePath&&this.fontConfig.fontFace&&pt.registerFont(this.fontConfig.fontFilePath,this.fontConfig.fontFace);var t=this.nodeCanvas.getContext("2d");return t.fillStyle="#ffffff",t.fillRect(0,0,Ot.SIZE,Ot.SIZE),t.font=[this.fontConfig.fontFace.style,this.fontConfig.fontFace.weight,"".concat(this.fontConfig.fontSize,"px"),this.fontConfig.fontFace.family].filter(Boolean).join(" "),t.textAlign="center",t.textBaseline="top",t.fillStyle="#000000",t}},{key:"render",value:function(){this.renderTitle(),this.renderContent()}},{key:"renderTitle",value:function(){if(this.titleConfig){var t=this.fontConfig.fontSize,e=this.titleConfig,r=e.text,n=e.startX-r.length*t/2,o=this.scaledPaddingTop+t,i=t*r.length;this.nodeCanvasContext.fillRect(n,o,i,3);for(var a=0;a<r.length;a++){var u=n+(a+.5)*t;this.nodeCanvasContext.fillText(r[a],u,this.scaledPaddingTop)}}}},{key:"titleTextAsBool",get:function(){var t;return Boolean(null===(t=this.titleConfig)||void 0===t?void 0:t.text)}},{key:"titleTextAsNumber",get:function(){return Number(this.titleTextAsBool)}},{key:"scaledPaddingTop",get:function(){return this.paddingTop*this.fontConfig.fontSize}},{key:"maxRow",get:function(){var t=this.fontConfig.fontSize,e=this.lineSpacing,r=this.paddingTop;return Math.floor((Ot.SIZE-t*r)/(t*e))}}]),t}()),Pt=nt("<h2>Error!!"),Lt=nt("<h2>Loading..."),It=nt("<div class=creator-rows><h3>古詩創作家／TradEM Creator"),Ft=nt('<div class=creator-rows><div class="creator-row creator-poem-image"><img width=350 height=350 title=poem-canvas></div><form class="creator-row creator-form-container"><div class=creator-form-rows><div class=creator-form-row><label for=poemTitle>標題</label><input type=text id=poemTitle name=firstname placeholder=標題。。。></div><div class=creator-form-row><label for=poemContent>內文</label><textarea id=poemContent name=poemContent placeholder=內文。。。 rows=5 cols=16></textarea></div><div class=creator-form-group><div class=creator-form-row><label for=poemRowCount>橫行行數</label><select id=poemRowCount name=poemRowCount></select></div><div class=creator-form-row><label for=poemColumnCount>直行字數</label><select id=poemColumnCount name=poemColumnCount></select></div><div class=creator-form-row><label for=poemFontFamily>字體</label><select id=poemFontFamily name=poemFontFamily></select></div></div><div class="creator-form-row creator-form-buttons"><input type=submit value=下載><input type=submit value=分享>'),Nt=nt("<option>"),zt={cwtexkai:"楷體",cwtexyen:"圓體",cwtexfangsong:"仿宋體",cwtexming:"明體"},Rt="300";function _t(){var e=L(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(Object.keys(zt).map(function(){var e=r(t().mark((function e(r){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new ht(r).load("你好世界你真美，你好世界你真美。",1e4));case 1:case"end":return t.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))),n=g(e,1)[0];return V(Q,{get fallback(){return Lt()},get children(){return[V(tt,{get when(){return"ready"===n.state},get children(){return V(Bt,{get initedCanvas(){return At.assert("ready"===n.state,"Unreachable non-ready font-state"),new Tt(7,8,{family:"cwtexkai",weight:Rt},"WEB","","")},fontFamilyToLabelLookup:zt})}}),V(tt,{get when(){return"errored"===n.state},get children(){return Pt()}})]}})}function Bt(t){var e,r,n,o,i,a,u,c,l,s,f,d,h,p,v,m,y=g(O(t.initedCanvas),2),b=y[0],w=y[1],x=function(t){w((function(e){return e.move({titleText:t.target.value})}))},C=function(t){w((function(e){return e.move({content:t.target.value.replace(/\n/g,"")})}))},E=function(t){var e,r=Number(t.target.value);At.assert((e=r,Number.isSafeInteger(e)&&e>=1&&e<=8),"Invalid value for `row`"),w((function(t){return t.move({row:r})}))},S=function(t){var e,r=Number(t.target.value);At.assert((e=r,Number.isSafeInteger(e)&&e>=1&&e<=7),"Invalid value for `column`"),w((function(t){return t.move({wordPerRow:r})}))},k=function(e){var r=e.target.value;At.assert(Object.hasOwn(t.fontFamilyToLabelLookup,r),"Invalid value for `font-family`"),w((function(t){return t.move({fontFace:{family:r,weight:Rt}})}))};return[It(),(e=Ft(),r=e.firstChild,n=r.firstChild,o=r.nextSibling,i=o.firstChild.firstChild,a=i.firstChild.nextSibling,u=i.nextSibling,c=u.firstChild.nextSibling,l=u.nextSibling,s=l.firstChild,f=s.firstChild.nextSibling,d=s.nextSibling,h=d.firstChild.nextSibling,p=d.nextSibling.firstChild.nextSibling,v=l.nextSibling.firstChild,m=v.nextSibling,o.addEventListener("submit",(function(t){t.preventDefault()})),a.$$input=x,c.$$input=C,f.$$input=E,it(f,V(J,{get each(){return Array(8).fill(0).map((function(t,e){return e+1}))},children:function(t){return(e=Nt()).value=t,it(e,t),e;var e}})),h.$$input=S,it(h,V(J,{get each(){return Array(7).fill(0).map((function(t,e){return e+1}))},children:function(t){return(e=Nt()).value=t,it(e,t),e;var e}})),p.$$input=k,it(p,V(J,{get each(){return Object.keys(t.fontFamilyToLabelLookup)},children:function(e){return(r=Nt()).value=e,it(r,(function(){return t.fontFamilyToLabelLookup[e]})),r;var r}})),ot(v,"data-disabled",!0),ot(m,"data-disabled",!0),T((function(){var t;return ot(n,"src",null===(t=b())||void 0===t||null===(t=t.htmlCanvas)||void 0===t?void 0:t.toDataURL())})),T((function(){return f.value=b().row})),T((function(){return h.value=b().wordPerRow})),T((function(){return p.value=b().fontFace.family})),e)]}!function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.document,r=e[et]||(e[et]=new Set),n=0,o=t.length;n<o;n++){var i=t[n];r.has(i)||(r.add(i),e.addEventListener(i,at))}}(["input"]);var Dt=nt("<link rel=preconnect href=https://fonts.googleapis.com>"),Mt=nt("<link rel=preconnect href=https://fonts.gstatic.com crossorigin=anonymous>"),$t=nt('<link rel="stylesheet preload"as=style>');function Wt(){return[Dt(),Mt(),V(J,{each:["cwtexkai","cwtexyen","cwtexfangsong","notosanstc","cwtexming"],children:function(t){return ot(e=$t(),"href","https://fonts.googleapis.com/earlyaccess/".concat(t,".css")),e;var e}})]}rt((function(){return V(Wt,{})}),document.head);var Zt=document.getElementById("root");Zt||((Zt=document.createElement("div")).id="root",document.body.appendChild(Zt)),rt((function(){return V(_t,{})}),Zt)}}}))}();
